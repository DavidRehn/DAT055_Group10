//draft of the sendMsg method, should probably be an implementation of an interface in final.
void sendMsg(SocketChannel channel, Serializable obj) throws IOException {

    ByteArrayOutputStream byteStream = new ByteArrayOutputStream();

    try (ObjectOutputStream objOut = new ObjectOutputStream(byteStream)) {
        objOut.writeObject(obj);
        }

    byte[] byteArray = byteStream.toByteArray();
    ByteBuffer lenBuffer = ByteBuffer.allocate(4);
    lenBuffer.putInt(byteArray.length);
    lenBuffer.flip();

    while (lenBuffer.hasRemaining()) {
        channel.write(lenBuffer);
	      }

    ByteBuffer msgBuffer = ByteBuffer.wrap(byteArray);

    while (msgBuffer.hasRemaining()) {
	      channel.write(msgBuffer);
	      }
    
    }
